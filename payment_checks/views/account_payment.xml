<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_checks_account_payment_form" model="ir.ui.view">
        <field name="name">account.payment.form</field>
        <field name="model">account.payment</field>
        <field name="inherit_id" ref="account.view_account_payment_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='journal_id']" position="after">
                <field name="is_check"/>
                <field name="check_type" invisible="1"/>
            </xpath>
            <xpath expr="//sheet" position="inside">
                <notebook attrs="{'invisible': [('is_check', '=', False)]}">
                    <page string="Checks">
                        <field name="checks_ids" context="{'default_journal_id': journal_id,'default_payment_date': date,'default_type':check_type}" attrs="{'readonly':[('state', '=', 'posted')]}">
                            <tree string="Checks" nolabel="1">
                                <field name="journal_id"/>
                                <field name="number"/>
                                <field name="date" string="Issue Date"/>
                                <field name="payment_date"/>
                                <field name="amount"/>
                                <field name="state"/>
                            </tree>
                        </field>
                    </page>
                </notebook>
            </xpath>
        </field>
    </record>
</odoo>